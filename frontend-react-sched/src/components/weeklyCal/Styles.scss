.weekly-cal-wrapper{
  display: grid;
  position: relative;
  grid-template-rows: 70px 1fr;
  grid-template-columns: 1fr;
  margin: 0.1em;
}

.weekly-calendar {
    position: relative;
    display: grid;
    grid-template-columns: [time] auto [sunday] 1fr [monday] 1fr [tuesday] 1fr [wednesday] 1fr [thursday] 1fr [friday] 1fr [saturday] 1fr;
    grid-template-rows: [weekday] auto [line-6am] 1fr [line-7am] 1fr [line-8am] 1fr [line-9am] 1fr [line-10am] 1fr [line-11am] 1fr [line-noon] 1fr [line-1pm] 1fr [line-2pm] 1fr [line-3pm] 1fr [line-4pm] 1fr [line-5pm] 1fr [line-6pm] 1fr [line-7pm] 1fr [line-8pm] 1fr [line-9pm] 1fr [line-10pm] 1fr;
    border-top: 1px solid rgba(0,0,0,0.1);
    // border-right: 1px solid rgba(0,0,0,0.1);
    border-left: 1px solid rgba(0,0,0,0.1);
}

.cal-grid {
    position: relative;
    grid-column: 2 / -1;
    grid-row: 2 / -1;   
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(17, 1fr);
}

.cal-grid-morning {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 1 / 7;
    // border-bottom: 1px solid rgba(0,0,0,0.1);
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(6, 1fr);
}

.cal-grid-afternoon {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 7 / 14;
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(7, 1fr);
}

.cal-grid-evening {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 14 / 19;
    border: 0px 0px 1px 0px solid rgba(0,0,0,0.1);
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: repeat(4, 1fr);
}

.cal-grid-6am {
    position: relative; 
    grid-column: 1 / -1;
    grid-row: 1 / 2;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-7am {
    position: relative; 
    grid-column: 1 / -1;
    grid-row: 2 / 3;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-8am {
    position: relative; 
    grid-column: 1 / -1;
    grid-row: 3 / 4;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-9am {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 4 / 5;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-10am {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 5 / 6;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-11am {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 6 / 7;
    border-bottom: 1px dashed rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-12pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 1 / 2;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-1pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 2 / 3;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-2pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 3 / 4;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-3pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 4 / 5;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-4pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 5 / 6;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-5pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 6 / 7;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-6pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 7 / 8;
    border-bottom: 1px dashed rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-7pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 1 / 2;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-8pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 2 / 3;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-9pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 3 / 4;
    border-bottom: 1px dotted rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-10pm {
    position: relative;
    grid-column: 1 / -1;
    grid-row: 4 / 5;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    padding: 4px 1em;
    font-size: 0.75em;
}

.cal-grid-sunday {
    position: relative;
    grid-column: 1 / 2;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-monday {
    position: relative;
    grid-column: 2 / 3;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-tuesday {
    position: relative;
    grid-column: 3 / 4;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-wednesday {
    position: relative;
    grid-column: 4 / 5;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-thursday {
    position: relative;
    grid-column: 5 / 6;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-friday {
    position: relative;
    grid-column: 6 / 7;
    grid-row: 1 / -1;
    border-right: 1px dashed rgba(0,0,0,0.1);
}

.cal-grid-saturday {
    position: relative;
    grid-column: 7 / 8;
    grid-row: 1 / -1;
    border-right: 1px solid rgba(0,0,0,0.1);
}

.sunday {
    --weekday: sunday; 
}
  
.event[data-weekday="sunday"] {
    --weekday: sunday; 
}

.monday {
    --weekday: monday; 
}
  
.event[data-weekday="monday"] {
    --weekday: monday; 
}
  
.tuesday {
    --weekday: tuesday; 
}
  
.event[data-weekday="tuesday"] {
    --weekday: tuesday; 
}
  
.wednesday {
    --weekday: wednesday; 
}
  
.event[data-weekday="wednesday"] {
    --weekday: wednesday; 
}
  
.thursday {
    --weekday: thursday; 
}
  
.event[data-weekday="thursday"] {
    --weekday: thursday; 
}
  
.friday {
    --weekday: friday; 
}
  
.event[data-weekday="friday"] {
    --weekday: friday; 
}

.saturday {
    --weekday: saturday; 
}
  
.event[data-weekday="saturday"] {
    --weekday: saturday; 
}

.from-6am {
    --start-time: line-6am; 
}
  
.to-6am {
    --end-time: line-6am ; 
}

.event[data-start="6am"] {
    --start-time: line-6am; 
}
  
.event[data-end="6am"] {
    --end-time: line-6am; 
}

.from-7am {
    --start-time: line-7am; 
}
  
.to-7am {
    --end-time: line-7am ; 
}

.event[data-start="7am"] {
    --start-time: line-7am; 
}
  
.event[data-end="7am"] {
    --end-time: line-7am; 
}
  
.from-8am {
    --start-time: line-8am; 
}
  
.to-8am {
    --end-time: line-8am ; 
}
  
.event[data-start="8am"] {
    --start-time: line-8am; 
}
  
.event[data-end="8am"] {
    --end-time: line-8am; 
}
  
.from-9am {
    --start-time: line-9am; 
}
  
.to-9am {
    --end-time: line-9am ; 
}
  
.event[data-start="9am"] {
    --start-time: line-9am; 
}
  
.event[data-end="9am"] {
    --end-time: line-9am; 
}
  
.from-10am {
    --start-time: line-10am; 
}
  
.to-10am {
    --end-time: line-10am ; 
}
  
.event[data-start="10am"] {
    --start-time: line-10am; 
}
  
.event[data-end="10am"] {
    --end-time: line-10am; 
}
  
.from-11am {
    --start-time: line-11am; 
}
  
.to-11am {
    --end-time: line-11am ; 
}
  
.event[data-start="11am"] {
    --start-time: line-11am; 
}
  
.event[data-end="11am"] {
    --end-time: line-11am; 
}
  
.from-noon {
    --start-time: line-noon; 
}
  
.to-noon {
    --end-time: line-noon ; 
}
  
.event[data-start="noon"] {
    --start-time: line-noon; 
}
  
.event[data-end="noon"] {
    --end-time: line-noon; 
}
  
.from-1pm {
    --start-time: line-1pm; 
}
  
.to-1pm {
    --end-time: line-1pm ; 
}
  
.event[data-start="1pm"] {
    --start-time: line-1pm; 
}
  
.event[data-end="1pm"] {
    --end-time: line-1pm; 
}
  
.from-2pm {
    --start-time: line-2pm; 
}
  
.to-2pm {
    --end-time: line-2pm ; 
}
  
.event[data-start="2pm"] {
    --start-time: line-2pm; 
}
  
.event[data-end="2pm"] {
    --end-time: line-2pm; 
}
  
.from-3pm {
    --start-time: line-3pm; 
}
  
.to-3pm {
    --end-time: line-3pm ; 
}
  
.event[data-start="3pm"] {
    --start-time: line-3pm; 
}
  
.event[data-end="3pm"] {
    --end-time: line-3pm; 
}
  
.from-4pm {
    --start-time: line-4pm; 
}
  
.to-4pm {
    --end-time: line-4pm ; 
}
  
.event[data-start="4pm"] {
    --start-time: line-4pm; 
}
  
.event[data-end="4pm"] {
    --end-time: line-4pm; 
}
  
.from-5pm {
    --start-time: line-5pm; 
}
  
.to-5pm {
    --end-time: line-5pm ; 
}
  
.event[data-start="5pm"] {
    --start-time: line-5pm; 
}
  
.event[data-end="5pm"] {
    --end-time: line-5pm; 
}
  
.from-6pm {
    --start-time: line-6pm; 
}
  
.to-6pm {
    --end-time: line-6pm ; 
}
  
.event[data-start="6pm"] {
    --start-time: line-6pm; 
}
  
.event[data-end="6pm"] {
    --end-time: line-6pm; 
}
  
.from-7pm {
    --start-time: line-7pm; 
}
  
.to-7pm {
    --end-time: line-7pm ; 
}
  
.event[data-start="7pm"] {
    --start-time: line-7pm; 
}
  
.event[data-end="7pm"] {
    --end-time: line-7pm; 
}
  
.from-8pm {
    --start-time: line-8pm; 
}
  
.to-8pm {
    --end-time: line-8pm ; 
}
  
.event[data-start="8pm"] {
    --start-time: line-8pm; 
}
  
.event[data-end="8pm"] {
    --end-time: line-8pm; 
}

.from-9pm {
    --start-time: line-9pm; 
}
  
.to-9pm {
    --end-time: line-9pm ; 
}
  
.event[data-start="9pm"] {
    --start-time: line-9pm; 
}
  
.event[data-end="9pm"] {
    --end-time: line-9pm; 
}

.from-10pm {
    --start-time: line-10pm; 
}
  
.to-10pm {
    --end-time: line-10pm ; 
}
  
.event[data-start="10pm"] {
    --start-time: line-10pm; 
}
  
.event[data-end="10pm"] {
    --end-time: line-10pm; 
}
  
.event,
.event-group {
    grid-column: var(--weekday) 1;
    grid-row: var(--start-time)/var(--end-time);
    z-index: 1; }
  
.event-group {
    display: flex; }
    .event-group .event {
      flex: 1; }
  
.weekday {
    grid-column: var(--weekday) 1;
    grid-row: 1 / 2;
    position: sticky;
    top: 0;
    z-index: 2; }
  
.time {
    grid-column: time 1;
    grid-row: var(--start-time) 1;
    position: sticky;
    left: 0;
    z-index: 2; 
}
  
.highlight-day {
    grid-column: var(--weekday) 1;
    grid-row: 1 / -1;
    position: relative; }
  
.highlight-time,
.current-time {
    grid-column: 1 / -1;
    grid-row: var(--start-time) 1;
    position: relative;
    left: 0;
    right: 0; }
  
.current-time {
    z-index: 2;
    height: 1px;
    background: red; }
  
.event {
    margin: 2px;
    padding: 0.5em;
    background: white;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.1), 0 2px 2px rgba(0, 0, 0, 0.1);
    // border-radius: 4px; 
}
  
.weekday {
    text-align: center;
    background: white;
    padding: 1em;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
    font-size: 0.9em; 
}
  
.time {
    background: white;
    padding: 4px 1em;
    font-size: 1em;
    color: #AAA;
    border-bottom: 1px dotted rgba(0,0,0,0.1); 
}
  
.highlight-day {
    background: rgba(0, 0, 0, 0.03); }
  
.highlight-time {
    background: rgba(0, 0, 0, 0.03); }

// =============================================
// CALENDAR SETTINGS
// $weekdays: ("monday", "tuesday", "wednesday", "thursday", "friday");
$weekdays: ("sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday");

$times: ("6am", "7am", "8am", "9am", "10am", "11am", "noon", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm");
// $times: ("midnight", "1am", "2am", "3am", "4am", "5am", "6am", "7am", "8am", "9am", "10am", "11am", "noon", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm");

$generate: "both"; // options: "class", "data", "both"

// Cell sizes
$columnWidth: 1fr; // Eg: 1fr, 400px…
$rowHeight: 1fr; // Eg: 1fr, 100px…


// =============================================
// Calendar class setup

$template-columns: "[time] auto ";
@each $day in $weekdays { 
  $template-columns: $template-columns + "[#{$day}] #{$columnWidth} ";
}

// Calendar rows
$template-rows: "[weekday] auto ";
@each $time in $times { 
  $template-rows: $template-rows + "[line-#{$time}] #{$rowHeight} ";
}

.calendar {  
  position: relative;
  display: grid;
  grid-template-columns: unquote($template-columns);
  grid-template-rows: unquote($template-rows);
}


// =============================================
// Weekday classes (.monday)
@each $day in $weekdays {
  @if ($generate == "class" or $generate == "both") {
    .#{$day} { --weekday: #{$day};  }
  }
  @if ($generate == "data" or $generate == "both") {
    .event[data-weekday="#{$day}"] { --weekday: #{$day}; }
  }
}


// =============================================
// Start time classes (.from-10am)
// Endtime classes (.to-10am)
@each $time in $times {
  @if ($generate == "class" or $generate == "both") {
    .from-#{$time} { --start-time: line-#{$time}; }
    .to-#{$time} { --end-time: line-#{$time} }
  }
  @if ($generate == "data" or $generate == "both") {
    .event[data-start="#{$time}"] { --start-time: line-#{$time}; }
    .event[data-end="#{$time}"] { --end-time: line-#{$time}; }
  };
}

// =============================================
// Position event in grid

.event, 
.event-group {
  grid-column: var(--weekday) 1;
  grid-row: var(--start-time) / var(--end-time);
  z-index: 1;
}

.event-group {
  display: flex;
  .event { flex: 1; }
}

// =============================================
// Tracks

.weekday {
  grid-column: var(--weekday) 1;
  grid-row: 1 / 2;
  position: relative;
  top: 0;
  z-index: 2;
}


.time {
  grid-column: time 1;
  grid-row: var(--start-time) 1;
  position: relative;
  left: 0;
  z-index: 2;
}



// =============================================
// Highlight a day and time

.highlight-day {
  grid-column: var(--weekday) 1;
  grid-row: 1 / -1;
  position: relative;
}

.highlight-time,
.current-time {
  grid-column: 1 / -1;
  grid-row: var(--start-time) 1;  
  position: relative;
  left: 0;
  right: 0;
}

.current-time { 
  z-index: 2;
  height: 1px;
  background: red;
}


// =============================================
// Basic Theme

.event {
//   margin: 2px;
  padding: 0.5em;
  background: white;
  box-shadow: 0 0 8px rgba(0,0,0,0.1), 0 2px 2px rgba(0,0,0,0.1);
  border-radius: 4px;
}

.weekday {
  text-align: center;
  background: white;
  padding: 1em;
  border-bottom: 1px solid rgba(0,0,0,0.1);
  font-size: 0.8em;
  color: navy;
}

.time {
  background: white;
  padding: 4px 1em;
  font-size: 0.8em;
  color: navy;
  border-right: 1px solid rgba(0,0,0,0.1);
}

.time.from-10pm {
    border-bottom: 1px solid rgba(0,0,0,0.1);
}

.highlight-day {
  background: rgba(0, 0, 0, 0.03);
}

.highlight-time {
  background: rgba(0, 0, 0, 0.03);
}

// .current-time {}